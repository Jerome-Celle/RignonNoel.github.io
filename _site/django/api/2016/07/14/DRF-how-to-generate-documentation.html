<!DOCTYPE HTML>
<!--
	Synchronous by TEMPLATED
    templated.co @templatedco
    Released for free under the Creative Commons Attribution 3.0 license (templated.co/license)
-->
<html>
	<head>
		<title>[DRF] Generate documentation with Django Rest Swagger - Noël Rignon</title>
		<meta http-equiv="content-type" content="text/html; charset=utf-8" />
		<meta name="description" content="" />
		<meta name="keywords" content="" />
		<link href='http://fonts.googleapis.com/css?family=Lato:300,400,700,900' rel='stylesheet' type='text/css'>
		<!--[if lte IE 8]><script src="../js/html5shiv.js"></script><![endif]-->
		<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
		<script src="http://localhost:4000/js/skel.min.js"></script>
		<script src="http://localhost:4000/js/skel-panels.min.js"></script>
		<script src="http://localhost:4000/js/init.js"></script>

		<link rel="stylesheet" href="http://localhost:4000/css/skel-noscript.css" />
		<link rel="stylesheet" href="http://localhost:4000/css/style.css" />
		<link rel="stylesheet" href="http://localhost:4000/css/syntax.css" />
	</head>
	<body>
		<div id="wrapper">

			<!-- Header -->
			<div id="header">
				<div class="container">

					<!-- Logo -->
					<div id="logo">
						<h1><a href="#">Noël Rignon</a></h1>
						<span>Site personnel</span>
					</div>

					<!-- Nav -->
					<nav id="nav">
						<ul>
							
							<li>
								<a class="about" href="/">Accueil</a>
							</li>
							
							<li>
								<a class="about" href="/blog/">Blog</a>
							</li>
							
							<li>
								<a class="about" href="/projects/">Projets</a>
							</li>
							
							<li>
								<a class="about" href="/presentations/">Présentation</a>
							</li>
							
							<li>
								<a class="about" href="/calendar/">Calendrier</a>
							</li>
							
						</ul>
					</nav>
				</div>
			</div>
			<!-- /Header -->

			<div id="page">
				<div class="container">
					<div class="row">
						<div class="9u skel-cell-important">
							<section id="content" >
								<article class="post" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title" itemprop="name headline">[DRF] Generate documentation with Django Rest Swagger</h1>
    <p class="post-meta"><time datetime="2016-07-14T15:12:00-04:00" itemprop="datePublished">Jul 14, 2016</time></p>
  </header>

  <div class="post-content" itemprop="articleBody">
    <p>I saw many documentation working with swagger and i needed to 
find how to make that with DRF. I’ve found with Django Rest Swagger!</p>

<p>If you want more information, always the same things, just go on the <a href="http://www.django-rest-framework.org/topics/documenting-your-api/#django-rest-swagger">official documentation</a></p>

<p><strong>Generated documentation with <code class="highlighter-rouge">django-rest-swagger</code></strong></p>

<p><img src="https://raw.githubusercontent.com/RignonNoel/RignonNoel.github.io/master/static/img/_posts/DRF-swagger.png?token=ALfs2MlO6pEpGh8gJe1Nq_80wA1pgcn-ks5XkSUfwA%3D%3D" alt="Screenshot swagger" title="Screenshot swagger" /></p>

<hr />

<h2 id="how-to-install-django-rest-swagger">How to install Django Rest Swagger</h2>

<hr />

<p>We install the new package</p>

<blockquote>
  <p><strong>Note</strong>: Don’t forget to add the new requirements as a required 
package of your Django project if you have a file for that!</p>
</blockquote>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="gp">$ </span>pip install django-rest-swagger</code></pre></figure>

<p>We add the new package in <code class="highlighter-rouge">INSTALLED_APPS</code> of the project’s settings.</p>

<figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="n">INSTALLED_APPS</span> <span class="o">=</span> <span class="p">[</span>
    <span class="o">...</span>
    <span class="s">'rest_framework_swagger'</span><span class="p">,</span>
    <span class="o">...</span>
<span class="p">]</span></code></pre></figure>

<p>And just add a new url to consult your documentation</p>

<figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="c"># DOCUMENTATION SWAGGER</span>
<span class="n">url</span><span class="p">(</span>
    <span class="s">r'^documentation/'</span><span class="p">,</span>
    <span class="n">include</span><span class="p">(</span><span class="s">'rest_framework_swagger.urls'</span><span class="p">)</span>
<span class="p">),</span></code></pre></figure>

<hr />

<h2 id="how-to-use">How to use</h2>

<hr />

<p>If you go to the url you have defined, you can see an 
autogenerate documentation make with Django Rest Swagger.</p>

<p>Now, you just need to comment your code to upgrade your documentation:</p>

<ul>
  <li>First line is display all time (in the listing and in the detail)</li>
  <li>Second line and other are only display in the detail of the documentation</li>
</ul>

<p>Take a look on this two example:</p>

<p><strong>First example</strong></p>

<figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="k">class</span> <span class="nc">CardDetail</span><span class="p">(</span><span class="n">generics</span><span class="o">.</span><span class="n">RetrieveAPIView</span><span class="p">):</span>
    <span class="s">"""
    Return detail of a card

    Current user need to be owner of the card
    """</span>

    <span class="k">def</span> <span class="nf">get</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">request</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="o">...</span>
        <span class="c"># here you code</span>
        <span class="o">...</span>
        
        <span class="k">return</span> <span class="n">Response</span><span class="p">(</span><span class="n">card</span><span class="p">)</span></code></pre></figure>

<p><strong>Second example</strong></p>

<figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="k">class</span> <span class="nc">CardDetail</span><span class="p">(</span><span class="n">generics</span><span class="o">.</span><span class="n">RetrieveAPIView</span><span class="p">):</span>

    <span class="k">def</span> <span class="nf">get</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">request</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="s">"""
        Return detail of a card
    
        Current user need to be owner of the card
        """</span>
        <span class="o">...</span>
        <span class="c"># here you code</span>
        <span class="o">...</span>
        
        <span class="k">return</span> <span class="n">Response</span><span class="p">(</span><span class="n">card</span><span class="p">)</span></code></pre></figure>

<p>When you can see, you can add your comment in the <code class="highlighter-rouge">class</code>, or in the <code class="highlighter-rouge">def</code>.</p>

<p>The comment in the <code class="highlighter-rouge">class</code> it’s a prefix of the comment in the <code class="highlighter-rouge">def</code>, so each <code class="highlighter-rouge">def</code> are prefix with the same comment in the <code class="highlighter-rouge">class</code>.</p>

<hr />

<h2 id="good-practice">Good practice</h2>

<hr />

<p><strong>Where write the comment ?</strong></p>

<p>There is no good way but i ALWAYS comment my <code class="highlighter-rouge">def</code> for be more clear:</p>

<ol>
  <li>The first line of my comment (display in the list) is more explicit</li>
  <li>The comment is just for this <code class="highlighter-rouge">def</code>, so if i add a new <code class="highlighter-rouge">def</code> i don’t have a bad comment by default and i can see my forgotten</li>
</ol>

<p><strong>How to write the comment ?</strong></p>

<blockquote>
  <p><strong>Note :</strong> If you install <code class="highlighter-rouge">django-markdown</code> the comment will support 
<code class="highlighter-rouge">markdown</code> format so use it!</p>
</blockquote>

<figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="k">class</span> <span class="nc">UserRetrieveUpdateDestroy</span><span class="p">(</span><span class="n">generics</span><span class="o">.</span><span class="n">RetrieveUpdateDestroyAPIView</span><span class="p">):</span>

    <span class="k">def</span> <span class="nf">put</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">request</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="s">"""
        # Update a given user

        ## URL Attributs:

         - pk : Id of the user

        ## Attributs:

         - first_name : First name of the user

         - last_name : Last name of the user

         - email : Email of the user

         - password : The password of the user

        ## Warnings:

         - Only staff can edit users
        """</span>
        <span class="o">...</span>
        <span class="c"># here you code</span>
        <span class="o">...</span>
        
        <span class="k">return</span> <span class="n">Response</span><span class="p">(</span><span class="n">UserSerializer</span><span class="p">(</span><span class="n">user</span><span class="p">)</span><span class="o">.</span><span class="n">data</span><span class="p">)</span></code></pre></figure>


  </div>

  
</article>

							</section>
						</div>
						<div class="3u">
							<section id="sidebard2">
								<header>
									<h2 class="author-name">Noël Rignon</h2>
									<hr>
									
									<div id="about">
										Dev. web polyglotte. Passionné des systèmes embarqués. Végétalien et bénévoles.
									</div>
									

									<div class="social">
										<ul>
											
										</ul>
									</div>
								</header>
								<strong>J'offre du support pour ces outils:</strong>
								<ul class="style1">
									<li>
										<a href="/sample.html">
											Outil d'échantillonage
										</a>
									</li>
								</ul>
							</section>
						</div>
					</div>
				</div>
			</div>


			<!-- Footer -->
			<div id="footer">
				<div class="container">
					<div class="row">
						<div class="9u">
							<section id="box2">
								<header>
									<h2>Licences</h2>
								</header>
								<p>Sauf avis contraire le contenu de ce site est sous licence CC-BY Attribution 4.0 International. Vous avez donc la possibilité de réutiliser, partager et modifier ce contenu à des fins commerciales ou non sous condition de reconnaitre mon travail en citant mon nom.
Si vous voulez réutiliser mon contenu n'hésitais pas à tous simplement me faire une pull-request ou une demande par courriel. Sinon faite le moi  savoir afin que je puisse améliorer moi même mon contenu ou bien partager le votre si vous le souhaitez.</p>
							</section>
						</div>
						<div class="3u">
							<section id="box3">
								<header>
									<h2>Contact</h2>
								</header>
								<ul class="style3">
									<li class="first">
										(+1) 514 980-3840
									</li>
									<li>
										rignon.noel@openmailbox.org
									</li>
								</ul>
							</section>
						</div>
					</div>
				</div>
			</div>

			<!-- Copyright -->
			<div id="copyright">
				<div class="container">
					Ce design est basé sur: <a href="http://templated.co">TEMPLATED</a>. Les images proviennent de: <a href="http://unsplash.com">Unsplash</a> (<a href="http://unsplash.com/cc0">CC0</a>)
				</div>
			</div>

		</div>
	</body>
</html>